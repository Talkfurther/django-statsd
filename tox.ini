[tox]
envlist = 
    py{27,py}-django{18,19,110,111},
    py{33,34,35,36}-django18,
    py{34,35,36}-django{19,110,111,200},
    flake8
    docs

skip_missing_interpreters = True

[testenv]
deps =
    django18: Django>=1.8,<1.9
    django19: Django>=1.9,<1.10
    django110: Django>=1.10,<1.11
    django111: Django>=1.11,<1.12
    django200: Django>=2.00,<2.1
    -r{toxinidir}/tests/requirements.txt

commands = {envpython} setup.py test

[testenv:flake8]
deps = flake8
commands = flake8 --ignore=W391 django_statsd tests

[testenv:docs]
deps = -r{toxinidir}/docs/requirements.txt
basepython = python
commands = sphinx-build -W -b html -d {envtmpdir}/doctrees \
           {toxinidir}/docs {envtmpdir}/html
